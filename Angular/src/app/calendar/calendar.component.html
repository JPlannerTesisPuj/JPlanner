
<div class="cal-menu-container col-4_xs-12_sm-12_md-12_lg-4 sm-hidden" >

  <!--
    verticalMenuIndex es una variable numérica del componente que le indica al menú
    qué pestaña debe seleccionar. Así mismo, el menú le indica el número de la pestaña
    que el usuario seleccione. El primer index del menú comienza en 0.
  -->
  <mat-tab-group [(selectedIndex)]="verticalMenuIndex">
    <mat-tab>
        
      <ng-template mat-tab-label>
      
        <i class="material-icons" >
          search
        </i>
      
      </ng-template>
    
        <app-filter></app-filter>
    </mat-tab>
    <mat-tab>
      <ng-template mat-tab-label>
          
        <i class="material-icons">
          view_list
        </i>
      
      </ng-template>

      <app-display-classes [calendarList]="calendarList"></app-display-classes>
    </mat-tab>

    <mat-tab>
      <ng-template mat-tab-label>
          
        <i class="material-icons" >
          shopping_cart
        </i>
        

      </ng-template>
      <h2>Carrito de compras</h2>
      <div > 
      
      
      <!-- Se recorre la lista de materias agregadas y se crea un app-display-class por cada materia -->
      <div *ngFor="let class of calendarClasses" >
        <app-display-class [subject]="class"></app-display-class>
      </div>
      
    </div>
      <button class="fil-btn" disabled="true">Inscribir</button>

    </mat-tab>
  </mat-tab-group>
</div>


<div class="cal-schedule-container col-8_xs-12_sm-12_md-12_lg-8">

  <div class= "cal-alternatives-paginator">
      <div class="cal-alt-title-div">
        <label for="cal-alt-title">Titulo:</label>
        <input class="atom-input-field" type="text" id="cal-alt-title" name="Alternative Title" maxlength="25" [(ngModel)]="alternativeTitles[currentAlternative]">
        
      </div>
      <div class="cal-alt-radio-group">
        <label class="cal-radio-container" *ngFor='let ind of alternativeIterationArray '>
            <input type="radio" name="cal-alternative" [value]=ind [(ngModel)]="currentAlternative" (change)="onItemChange(ind)">
            <span class="atom-radio-btn"></span>
        </label>
     </div>
  </div>


    Los pasos para personalizar el Calendario fueron tomados de aquí https://github.com/mattlewis92/angular-calendar#how-do-i-use-a-custom-template
    La diferencia entre esta plantilla y la plantilla por defecto es que en esta no se muestra la fecha del día, sólo el nombre.
  -->

  <!--INICIO PLANTILLAS PERSONALIZADAS -->
  <!-- <ng-template #customDayTemplateJPlanner
    let-days="days"
    let-locale="locale"
    let-dayHeaderClicked="dayHeaderClicked"
    let-eventDropped="eventDropped">
    <div class="cal-day-headers">
      <div class="cal-header" *ngFor="let day of days; trackBy:trackByWeekDayHeaderDate"
        [class.cal-past]="day.isPast"
        [class.cal-today]="day.isToday"
        [class.cal-future]="day.isFuture"
        [class.cal-weekend]="day.isWeekend"
        [ngClass]="day.cssClass"
        (mwlClick)="dayHeaderClicked.emit({day: day})"
        (drop)="eventDropped.emit({event: $event.dropData.event, newStart: day.date})"
        mwlDroppable dragOverClass="cal-drag-over">
          <b>{{ day.date | calendarDate:'weekViewColumnHeader':locale }}</b>
          <br>
      </div>
    </div>
    <ng-template [ngTemplateOutlet]="customTemplate || defaultTemplate" [ngTemplateOutletContext]="{days: days, locale: locale, dayHeaderClicked: dayHeaderClicked, eventDropped: eventDropped}">
    </ng-template>
  </ng-template> -->

  <!-- <ng-template #customDayTemplateJPlanner-->

  <ng-template #customWeekViewHourSegmentTemplateJplanner
    let-segment="segment"
    let-locale="locale"
    let-segmentHeight="segmentHeight"
    let-isTimeLabel="isTimeLabel">
      <div
        #segmentElement
        class="cal-hour-segment"
        [style.height.px]="segmentHeight"
        [class.cal-hour-start]="segment.isStart"
        [ngClass]="segment.cssClass"
        (mousedown)="startDragToCreateBlock(segment, $event, segmentElement)">
        <div class="cal-time" *ngIf="isTimeLabel">
          {{ segment.date | date:'H:mm':locale }}
        </div>
      </div>

  </ng-template>

  <ng-template #customDayViewHourSegmentTemplateJplanner
    let-segment="segment"
    let-locale="locale"
    let-segmentHeight="segmentHeight"
    let-isTimeLabel="isTimeLabel">
      <div
        #segmentElementDay
        class="cal-hour-segment"
        [style.height.px]="segmentHeight"
        [class.cal-hour-start]="segment.isStart"
        [ngClass]="segment.cssClass">
        <div class="cal-time">
          {{ segment.date | date:'H:mm':locale }}
        </div>
      </div>

  </ng-template>
  <!--FIN PLANTILLAS PERSONALIZADAS -->

  <br />

  <!--
    Los atributos de las vistas que cambiaron fueron:
    * hourSegments: de 2 a 1
    * dayStartHour: de 0 a 7
    * dayEndHour: de 23 a 22
  -->
  <!-- Este grupo de botones se usan para probar el cambio de días en la vista -->
  <div class="btn-group">
    <button class="btn btn-primary" mwlCalendarPreviousView [view]="view" [(viewDate)]="viewDate" (viewDateChange)="activeDayIsOpen = false">
      Previous
    </button>
    <button class="btn btn-outline-secondary" mwlCalendarToday [(viewDate)]="viewDate">
      Today
    </button>
    <button class="btn btn-primary" mwlCalendarNextView [view]="view" [(viewDate)]="viewDate" (viewDateChange)="activeDayIsOpen = false">
      Next
    </button>
    <input type="checkbox" name="editBlockOption" id="editBlockOption" [(ngModel)]="editBlockOption">
    <label for="editBlockOption">Eliminar bloqueo seleccionado únicamente</label>
  </div>

  <div
    cdkDropList
    #calendarList="cdkDropList"
    (cdkDropListDropped)="dropClass($event)"
    class="grid-noGutter">
    <mwl-calendar-week-view
      [viewDate]="viewDate"
      [events]="classes"
      [refresh]="refresh"
      [hourSegments]="1"
      [dayStartHour]="7"
      [dayEndHour]="22"
      [locale]="locale"
      [hourSegmentTemplate]="customWeekViewHourSegmentTemplateJplanner"
      [hourSegmentHeight]="35"
      (eventClicked)="handleEvent('Clicked', $event.event)"
      (eventTimesChanged)="eventTimesChanged($event)"
      class="cal-display-lg sm-hidden col-12">
    </mwl-calendar-week-view>

    <div class="cal-display-sm col-12">
     
      <div class="cal-day-text">
        {{ viewDate | calendarDate:'weekViewColumnHeader':locale }}
      </div>

    </div>
  </div>

</div>

<hr> 
<div class="movilMenu col-12 ">
  

  <mat-tab-group headerPosition="below" class="col-12">
      <mat-tab >
          <ng-template mat-tab-label>
              <i class="material-icons" >
                  view_list
                </i>
              </ng-template>
              <app-display-classes [calendarList]="calendarList"></app-display-classes>
              
              
              <hr style="border: 1px inset #e6e6e6 ;">
      </mat-tab>
    <mat-tab >
        <ng-template mat-tab-label>
        <i class="material-icons" >
            search
          </i>
        </ng-template>
        <app-filter></app-filter>
        <br>
        <br>
        <br>
        <hr style="border: 1px inset #e6e6e6 ;">

        </mat-tab>
        <mat-tab> 
            <ng-template mat-tab-label>
             <i class="material-icons" >
               today
             </i>
            </ng-template>
            <div (swipe)="onSwipe($event)">
              <mwl-calendar-day-view [viewDate]="viewDate" [events]="classes" [refresh]="refresh" [hourSegments]="1"
                [dayStartHour]="7" [dayEndHour]="22" (eventClicked)="handleEvent('Clicked', $event.event)" (eventTimesChanged)="eventTimesChanged($event)">
              </mwl-calendar-day-view>
            </div>

          <br>
          <br>
          <hr style="border: 1px inset #e6e6e6 ;">
         </mat-tab>
    <mat-tab> 
        <ng-template mat-tab-label>
            <i class="material-icons" >
                shopping_cart
              </i>
            </ng-template>

            <h2>Carrito de compras</h2>
            <div > 
            
            
            <!-- Se recorre la lista de materias agregadas y se crea un app-display-class por cada materia -->
            <div *ngFor="let class of calendarClasses" >
              <app-display-class [subject]="class"></app-display-class>
            </div>
            
          </div>
            <button class="fil-btn" disabled="true">Inscribir</button>
            <br>
            <br>
            <hr style="border: 1px inset #e6e6e6 ;">
           </mat-tab>

  </mat-tab-group>
</div>


